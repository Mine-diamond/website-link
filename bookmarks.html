<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¶è—å¤¹ - YyMing</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="css/styles.css">

    <!-- ä¹¦ç­¾é¡µä¸“å±ç´§å‡‘æ ·å¼ -->
    <style>
        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ å®¹å™¨ä¸å¤´éƒ¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .bookmarks-container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 1.5rem 1rem;
        }
        header.bookmarks-header {
            background: var(--header-bg);
            padding: 1rem 1.25rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 6px var(--shadow-color);
        }
        .header-content {display:flex;align-items:center;justify-content:space-between}
        .header-title   {margin:0;font-size:1.6rem;font-weight:600;color:var(--text-color)}
        .nav-link       {color:var(--text-color);opacity:.75;padding:0.4rem 0.8rem;border-radius:6px;text-decoration:none}
        .nav-link:hover,.nav-link.active{opacity:1;background:var(--group-bg)}

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ§åˆ¶æ  â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .bookmark-controls{background:var(--group-bg);border-radius:12px;padding:1rem;box-shadow:0 2px 6px var(--shadow-color);margin-bottom:1.5rem}
        .bookmark-actions{display:flex;flex-wrap:wrap;gap:.75rem}
        .bookmark-search,.importance-filter{flex:1 1 200px;padding:.55rem .9rem;border-radius:10px;border:2px solid transparent;background:var(--bg-color);font-size:.88rem}
        .bookmark-search:focus,.importance-filter:focus{border-color:#6366f1}
        .add-bookmark-btn{background:#6366f1;color:#fff;border:none;border-radius:10px;padding:.6rem 1.2rem;font-size:.9rem;cursor:pointer;transition:transform .2s}
        .add-bookmark-btn:hover{transform:translateY(-2px)}

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç½‘æ ¼+å¡ç‰‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .bookmarks-grid{
            display:grid;
            gap:1rem;
            /* æ›´å°å¡ç‰‡ï¼šæ¡Œé¢ â‰¥1280px 5åˆ— | â‰¥960px 4åˆ— | â‰¥640px 3åˆ— | å…¶ä½™ 2/1åˆ— */
            grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
        }
        .bookmark-card{
            position:relative;
            background:var(--card-bg);
            border-radius:10px;
            padding:.9rem;
            box-shadow:0 2px 5px var(--shadow-color);
            transition:transform .18s,box-shadow .18s;
            cursor:pointer;
            /* å–æ¶ˆé¡¶éƒ¨å½©æ¡ */
        }
        .bookmark-card:hover{
            transform:translateY(-3px);
            box-shadow:0 6px 14px var(--shadow-color);
        }
        .card-actions{
            position:absolute;top:6px;right:6px;display:flex;gap:4px;opacity:0;transition:opacity .15s;
        }
        .bookmark-card:hover .card-actions{opacity:1}
        .action-btn{width:26px;height:26px;border:none;border-radius:6px;background:rgba(0,0,0,.7);color:#fff;font-size:12px;display:flex;align-items:center;justify-content:center;cursor:pointer}
        .action-btn.edit:hover   {background:#059669}
        .action-btn.delete:hover {background:#dc2626}

        /* é‡æ–°æ’ç‰ˆï¼šå›¾æ ‡-æ ‡é¢˜-æ ‡ç­¾ åŒä¸€å¼ å¡é‡Œå ç”¨è¾ƒå°‘ç©ºé—´ */
        .card-top{display:flex;align-items:center;gap:.6rem;margin-bottom:.4rem}
        .card-icon-wrapper{flex-shrink:0;width:34px;height:34px;border-radius:8px;background:var(--bg-color);display:flex;align-items:center;justify-content:center}
        .card-icon{width:20px;height:20px;border-radius:4px}
        .card-icon.fallback{background:#6366f1;color:#fff;font-weight:600;font-size:.8rem}

        .card-title{margin:0;font-size:.95rem;font-weight:600;line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
        .card-title a{color:inherit;text-decoration:none}
        .card-url{font-size:.72rem;opacity:.6;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

        .bookmark-tags{display:flex;flex-wrap:wrap;gap:4px;margin-top:.35rem}
        .tag{font-size:.68rem;background:#6366f1;color:#fff;padding:1px 6px;border-radius:10px}

        .card-meta{display:flex;justify-content:space-between;align-items:center;margin-top:.4rem;font-size:.7rem;opacity:.6}
        .importance-stars{line-height:1}.star{color:#fbbf24}.star.empty{color:rgba(251,191,36,.35)}

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¼¹çª—(å‡å°) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .modal{backdrop-filter:blur(6px);background:rgba(0,0,0,.55)}
        .modal-content{
            background:var(--bg-color);
            width:92%;max-width:420px;
            border-radius:14px;padding:1.2rem 0 0 0;
            box-shadow:0 12px 28px rgba(0,0,0,.35);
        }
        .modal-header{padding:0 1.4rem;display:flex;align-items:center;margin-bottom:.8rem}
        .modal-title{font-size:1.25rem;font-weight:600}
        .form-group{padding:0 1.4rem;margin-bottom:.8rem}
        .form-group input,.form-group textarea,.form-group select{border-radius:8px;padding:.55rem .85rem;font-size:.88rem}
        .form-actions{padding:0 1.4rem 1.2rem 1.4rem;display:flex;gap:.7rem;justify-content:flex-end}
        .btn-primary{background:#6366f1;color:#fff;border:none;border-radius:10px;padding:.55rem 1.2rem;font-size:.9rem}
        .btn-secondary{background:var(--group-bg);border:none;border-radius:10px;padding:.55rem 1.2rem;font-size:.9rem}

        /* ç©ºï¼åŠ è½½çŠ¶æ€ä¸å˜(æ²¿ç”¨) */

        /* å“åº”å¼å°è°ƒæ•´ */
        @media(max-width:420px){
            .bookmark-actions{flex-direction:column;align-items:stretch}
        }
    </style>
</head>
<body>
    <div class="bookmarks-container">
        <!-- ========== å¤´éƒ¨ ========== -->
        <header class="bookmarks-header">
            <div class="header-content">
                <h1 class="header-title">æˆ‘çš„æ”¶è—å¤¹</h1>
                <nav class="header-nav">
                    <a class="nav-link" href="index.html">ğŸ  å¯¼èˆªç«™</a>
                    <a class="nav-link active" href="bookmarks.html">ğŸ“š æ”¶è—å¤¹</a>
                    <button id="theme-toggle" class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>
                </nav>
            </div>
        </header>

        <!-- ========== æ§åˆ¶æ  ========== -->
        <div class="bookmark-controls">
            <div class="bookmark-actions">
                <button class="add-bookmark-btn" onclick="openAddBookmarkModal()">ï¼‹ æ·»åŠ ä¹¦ç­¾</button>

                <input id="search-input" class="bookmark-search"
                       type="text" placeholder="ğŸ” æœç´¢æ ‡é¢˜ã€å¤‡æ³¨æˆ–æ ‡ç­¾..."
                       onkeyup="searchBookmarks()">

                <select id="importance-filter" class="importance-filter" onchange="filterBookmarks()">
                    <option value="">â­ å…¨éƒ¨æ˜Ÿçº§</option>
                    <option value="5">â­â­â­â­â­ 5æ˜Ÿ</option>
                    <option value="4">â­â­â­â­ 4æ˜ŸåŠä»¥ä¸Š</option>
                    <option value="3">â­â­â­ 3æ˜ŸåŠä»¥ä¸Š</option>
                    <option value="2">â­â­ 2æ˜ŸåŠä»¥ä¸Š</option>
                    <option value="1">â­ 1æ˜ŸåŠä»¥ä¸Š</option>
                </select>
            </div>
        </div>

        <!-- ========== ä¹¦ç­¾ç½‘æ ¼ ========== -->
        <div id="bookmarks-grid" class="bookmarks-grid"></div>

        <!-- ========== åŠ è½½ / ç©ºçŠ¶æ€ ========== -->
        <div id="loading" class="loading" style="display:none">æ­£åœ¨åŠ è½½...</div>
        <div id="empty-state" class="empty-state" style="display:none">
            <h3>æš‚æ— ä¹¦ç­¾</h3>
            <p>ç‚¹å‡»ä¸Šæ–¹â€œæ·»åŠ ä¹¦ç­¾â€å¼€å§‹åˆ›å»ºå§ï¼</p>
        </div>
    </div>

    <!-- ========== æ¨¡æ€æ¡† ========== -->
    <div id="bookmark-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title" class="modal-title">æ·»åŠ ä¹¦ç­¾</h2>
            </div>
            <form id="bookmark-form">
                <div class="form-group">
                    <label>æ ‡é¢˜ *</label>
                    <input id="bookmark-title" type="text" required>
                </div>
                <div class="form-group">
                    <label>URL *</label>
                    <input id="bookmark-url" type="url" required>
                </div>
                <div class="form-group">
                    <label>æ ‡ç­¾ (é€—å·åˆ†éš”)</label>
                    <input id="bookmark-tags" type="text" placeholder="å·¥å…·, å­¦ä¹ ">
                </div>
                <div class="form-group">
                    <label>å¤‡æ³¨</label>
                    <textarea id="bookmark-notes" rows="2"></textarea>
                </div>
                <div class="form-group">
                    <label>é‡è¦ç¨‹åº¦</label>
                    <select id="bookmark-importance">
                        <option value="1">â­ 1</option>
                        <option value="2">â­â­ 2</option>
                        <option value="3" selected>â­â­â­ 3</option>
                        <option value="4">â­â­â­â­ 4</option>
                        <option value="5">â­â­â­â­â­ 5</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeBookmarkModal()">å–æ¶ˆ</button>
                    <button type="submit" class="btn-primary">ä¿å­˜</button>
                </div>
            </form>
        </div>
    </div>

    <!-- JS ä¾èµ– -->
    <script src="js/theme.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/bookmarkAPI.js"></script>
    <script src="js/bookmarks.js"></script>
</body>
</html>
